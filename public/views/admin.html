<main class="admin-main">
  <!-- <div check-logged-in> -->
    <h1>Admin - {{username}}</h1>

  <!-- </div> -->

  <button type="button" name="button" ng-click="showOrders = true; showProducts = false; showOpenOrders = true; getOpenOrders(); ">Show Orders</button>
  <button type="button" name="button" ng-click="showProducts = true; showOrders = false">Show Products</button>



<!-- ORDERS SECTION -->
<div ng-if="showOrders" class="admin-orders">
  <h1>Orders Section</h1>

  <button type="button" name="button" ng-click="showOpenOrders = true; showClosedOrders = false;">Show Open Orders</button>
  <button type="button" name="button" ng-click="showClosedOrders = true; showOpenOrders = false;">Show Completed Orders</button>
  <br />
  <br />
  <br />
  <br />

  <!-- OPEN ORDERS SECTION -->
  <div ng-if="showOpenOrders" >
    <div ng-repeat="open in openOrders track by $index" class="open-order">

      <div class="open-order-left">
        <div class="open-order-top">
          <div class="">
            usernamehere <br />
            <span ng-if="open.useremail">{{open.useremail}}</span>
            <span ng-if="open.guestemail">{{open.guestemail}}</span>
          </div>

          <div class="">
            ordered <br /> {{open.datesold | date}}
          </div>

          <div class="">
            total <br /> {{(open.ordertotal * 1) + (open.shipping * 1) | currency}}
          </div>

        </div>


        <div ng-repeat="deets in open.subOrder" class="open-order-item">

          <div class="fakeimg">
            <img ng-src="{{deets.img1}}" alt="{{deets.name}}" class="fakeimg">
          </div>

          <div class="open-order-item-details">
            {{deets.name}}

            <div class="open-order-item-details-hilite">
              Size - {{deets.height}}H x {{deets.width}}W inches <br/>
              Color - {{deets.color}}
            </div>

            <br />



             <div class="open-order-item-details-bottom">
               <div class="">
                Quantity <br />
                {{deets.quantsold}}
               </div>
               <div class="">
                Price <br />
                {{deets.price | currency}}
               </div>
             </div>

          </div>

        </div>



      </div>

      <div class="open-order-right">
        <div class="open-order-top">
          <div class="">
            order <br /> {{open.id}}
          </div>

          shipping - {{open.shipping | currency}}

        </div>

        <div class="open-order-shipping">

          <form >
            <input type="text" name="" placeholder="Tracking Number">

            <textarea name="name" placeholder="Note To Buyer"></textarea>

            <button class="btn" name="button">Send Confirmation</button>
          </form>
        </div>


      </div>





      <br />
      <br />
    </div> <!-- end ng-repeat -->
  </div>

  <!-- CLOSED ORDERS SECTION -->
  <div ng-if="showClosedOrders">
    <h1>HERE IS WHERE COMPLETED ORDERS WILL BE</h1>
  </div>





</div>



<!-- PRODUCTS SECTION -->


<div ng-if="showProducts">
  <div class="admin-items">
    <div class="admin-filter">
      <input type="text" placeholder="Search" ng-model="searchDB.name">
    </div>
    <div class="admin-products" ng-repeat="product in products | orderBy: 'id' | filter: searchDB" ng-click="editProducts(product, $index)" ng-class="{highlighted: $index == selected}">
      <img ng-src="{{product.img1}}" height="50px" alt="" style="padding-right: 5px;">
      {{product.name}}
      <div class="edit-buttons">
        <!-- <button class="btn" ng-click="editProducts(product)" name="button">Edit</button> -->
        <!-- <button class="btn" ng-click="delete(product)" name="button">Delete</button> -->
      </div>
    </div>
  </div>

  <hr>

  <div class="admin-edit">
    <h3>Name</h3>
    <input type="text" name="" placeholder="Name" ng-model="productName">

    <h3>Description</h3>
    <textarea name="name" rows="5" placeholder="Description" ng-model="productDescription"></textarea>

<!-- <div class="" style="clear: both">

</div> -->
    <h3>Main Image</h3>
    <input type="text" name="" placeholder="Image 1 URL" ng-model="productImgOne">

    <h3>Main Vector</h3>
    <input type="text" name="" placeholder="Image 2 URL" ng-model="productImgTwo">

    <h3>Outline Vector</h3>
    <input type="text" name="" placeholder="Image 3 URL" ng-model="productImgThree">
      <br><br>


          <div ng-show="showExtraDetails">
            <h3>Total Favorites</h3>
            <p>{{productDetails.totalFavs[0].count}}</p>

            <h3>Active - {{productActive}}</h3>
            <input type="checkbox" name="" ng-model="productActive">


            <div ng-repeat="selected in defaultSelected track by $index">
              <select ng-options="all as all.name for all in allCategories"  ng-model="selected">
                <option value="">-- Category --</option>
              </select>

             <button type="button" name="button" ng-click="saveCategory($index, selected)">save</button>
             <button  type="submit" ng-click="deleteCategory($index, selected)">X</button>

            </div>

            <button type="button" name="button" ng-click="addNewCategory()">Add Cat</button>



      <br><br>

                <h3 style="display: inline-block; width: 60%;">Size</h3>
                <h3 style="display: inline-block; width: 30%;">Price</h3>

                <div ng-repeat="ps in productDetails.product track by $index">
                  <div ng-hide="editing" class="">
                    <span style="display: inline-block; width: 30%;">H - {{ps.height}}</span>
                    <span style="display: inline-block; width: 30%;">W - {{ps.width}}</span>
                    <span style="display: inline-block; width: 30%;">${{ps.price}}</span>
                    <button ng-click="editing = true; clickme($index)" ng-hide="editing" name="button" >edit</button>
                    <button  type="submit" ng-click="deleteDetails($index, ps)">X</button>

                  </div>
                  <form ng-show="editing" ng-submit="editing = false">
                    <input type="text" step="any" style="width: 30%;" placeholder="height" ng-model="ps.height" />
                    <input type="text" step="any" style="width: 30%;" placeholder="width" ng-model="ps.width" />
                    <input type="text" step="any" style="width: 30%;" placeholder="price" ng-model="ps.price" />

                    <button type="submit" ng-click="updateDetails($index, ps, ps.height, ps.width, ps.price)">Save</button>
                    <button type="button" name="button" ng-click="editing = false; clearDisabled()">X</button>
                  </form>

                </div>

                <button type="button" ng-click="addNewRow()">Add New Size</button>


          </div>





      <span class="flright" ng-model="productId" ng-show="showExtraDetails">Product ID: {{productId}}</span>


      <div class="" style="text-align: center;">
        <button ng-show="showExtraDetails" class="btn" name="button" ng-click="update(productId, productName, productDescription, productImgOne, productImgTwo, productImgThree, productActive)" ng-disabled="editDisable">Update</button>
        <button ng-hide="showExtraDetails" class="btn" name="button" ng-click="add(productName, productDescription, productImgOne, productImgTwo, productImgThree)" ng-disabled="editDisable">Add New</button>
        <button class="btn" name="button" ng-click="clearForm()" ng-disabled="editDisable">Clear</button>
        <button ng-show="showExtraDetails"class="btn" ng-click="delete(productId)" name="button" ng-disabled="editDisable">Delete</button>
      </div>

  </div>
</div>


</main>
